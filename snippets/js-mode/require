# -*- mode: snippet -*-
#name : var x = require('x');
# --
require('`(let ((relative-name (file-name-sans-extension (file-relative-name (cadr (assoc (ido-completing-read "Require: " (--filter (string-match "\.js$" (cadr it)) (--map (cons (file-name-sans-extension (car it)) (cdr it)) projectable-file-alist))) (--filter (string-match "\.js$" (cadr it)) (--map (cons (file-name-sans-extension (car it)) (cdr it)) projectable-file-alist)))) (file-name-directory (buffer-file-name)))))) (let ((result (if (string-match "^[a-zA-Z]" relative-name) (concat "./" relative-name) relative-name)))  result))`')